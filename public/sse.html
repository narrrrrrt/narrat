<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>SSE表示テスト</title>
</head>
<body>
  <h1>SSE 受信デモ</h1>
  <p id="event">イベント: （まだなし）</p>
  <p id="data">データ: （まだなし）</p>

  <script>
    const sse = new EventSource("/1/sse");

    function show(e) {
      document.getElementById("event").innerText = "イベント: " + e.type;
      document.getElementById("data").innerText  = "データ: " + e.data;
    }

    ["init", "reset", "join", "leave"].forEach(ev =>
      sse.addEventListener(ev, show)
    );
  </script>
</body>
</html>